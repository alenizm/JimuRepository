<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trainer Dashboard</title>
    <link rel="stylesheet" href="CSS/trainerNewStyle.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1183.0.min.js"></script>
  </head>

  <body>
    <!-- Header -->
    <header class="header">
      <a href="#" class="logo"
        ><i class="fas fa-dumbbell"></i> Trainer Dashboard</a
      >
      <button id="logout-btn" class="logout-btn">Logout</button>
    </header>
    <!-- End Header -->

    <!-- Trainees List Section -->
    <section class="trainees-list">
      <h1>List of Trainees</h1>
      <div class="search-container">
        <input
          type="text"
          id="trainee-search"
          placeholder="Search Trainees..."
          onkeyup="filterTrainees()"
        />
      </div>
      <div id="trainees" class="trainees">
        <!-- Trainee cards will be dynamically inserted here -->
      </div>
    </section>

    <!-- Training Program Modal -->
    <div id="programModal" class="modal" style="display: none;">
      <div class="modal-content">
        <button class="close-modal" onclick="closeProgramModal()">
          &times;
        </button>
        <h2>Create Training Program</h2>

        <!-- Machine Selection -->
        <form id="trainingForm">
          <div id="exerciseContainer">
            <div class="exercise">
              <label for="machine1">Machine:</label>
              <select id="machine1" name="machine[]">
                <option value="treadmill">Treadmill</option>
                <option value="benchPress">Bench Press</option>
                <option value="latPullDown">Lat Pulldown</option>
                <option value="legPress">Leg Press</option>
              </select>

              <label for="sets1">Sets:</label>
              <input
                type="number"
                id="sets1"
                name="sets[]"
                min="1"
                max="10"
                required
              />

              <label for="reps1">Repetitions:</label>
              <input
                type="number"
                id="reps1"
                name="reps[]"
                min="1"
                max="50"
                required
              />
            </div>
          </div>

          <button type="button" id="addExercise">Add Exercise</button>
          <button type="submit">Save Program</button>
        </form>

        <div id="program-preview" class="program-preview">
          <!-- Program preview will be dynamically inserted here -->
        </div>
      </div>
    </div>

    <!-- Import JavaScript -->
    <script>
      // JavaScript for Training Form
      const exerciseContainer = document.getElementById("exerciseContainer");
      const addExerciseButton = document.getElementById("addExercise");

      let exerciseCount = 1;

      addExerciseButton.addEventListener("click", () => {
        exerciseCount++;
        const newExercise = document.createElement("div");
        newExercise.classList.add("exercise");
        newExercise.innerHTML = `
          <label for="machine${exerciseCount}">Machine:</label>
          <select id="machine${exerciseCount}" name="machine[]">
            <option value="treadmill">Treadmill</option>
            <option value="benchPress">Bench Press</option>
            <option value="latPullDown">Lat Pulldown</option>
            <option value="legPress">Leg Press</option>
          </select>

          <label for="sets${exerciseCount}">Sets:</label>
          <input type="number" id="sets${exerciseCount}" name="sets[]" min="1" max="10" required />

          <label for="reps${exerciseCount}">Repetitions:</label>
          <input type="number" id="reps${exerciseCount}" name="reps[]" min="1" max="50" required />
        `;
        exerciseContainer.appendChild(newExercise);
      });

      document.getElementById("trainingForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const exercises = [];
        formData.getAll("machine[]").forEach((machine, index) => {
          exercises.push({
            machine,
            sets: formData.getAll("sets[]")[index],
            reps: formData.getAll("reps[]")[index],
          });
        });
        console.log("Training Program:", exercises);
        alert("Program saved successfully!");
      });
    </script>
    <script src="JS/trainers.js" defer></script>
  </body>
</html>
